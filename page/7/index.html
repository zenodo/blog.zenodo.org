<!doctype html>
<html>
  <head>
<meta charset="utf-8">

<meta property="og:image" content="https://blog.zenodo.org/static/img/logos/zenodo-gradient-1000.png" />


<meta property="og:title" content="Zenodo - Research. Shared." />


<meta property="og:type" content="website" />


<meta property="og:description" content="Zenodo is a free and open digital archive built by CERN and OpenAIRE, enabling researchers to share and preserve research output in any size, format and from all fields of research." />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@zenodo_org" />
<meta name="twitter:creator" content="@zenodo_org" />

<meta name="twitter:title" content="Zenodo - Research. Shared." />



<meta name="twitter:description" content="Zenodo is a free and open digital archive built by CERN and OpenAIRE, enabling researchers to share and preserve research output in any size, format and from all fields of research." />

<meta name="twitter:image" content="https://blog.zenodo.org/static/img/logos/zenodo-gradient-1000.png" />
<link rel="stylesheet" href="../../static/zenodo.css">
<link rel="stylesheet" href="../../static/style.css">
<link rel="stylesheet" href="../../static/font-awesome/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,100,italic" rel="stylesheet">
<title>Zenodo</title>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <a href="https://zenodo.org"><img class="navbar-brand" src="/static/img/zenodo.svg" alt="Zenodo" /></a>
          <span class="logo-divider"></span>
          <span class="header-title" aria-label="header-title">Blog</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right toplist">
            
              <li><a href="https://about.zenodo.org">About</a></li>
            
              <li><a href="https://blog.zenodo.org">Blog</a></li>
            
              <li><a href="https://help.zenodo.org">Help</a></li>
            
              <li><a href="https://about.zenodo.org/projects">Projects</a></li>
            
              <li><a href="https://developers.zenodo.org">Developers</a></li>
            
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <div class="communities">
    
    
    <div class="container body-container">
      <div class="row">
        <div class="col-md-12">
          

  
    
<a href="../../2019/07/16/2019-07-16-roadmap/"><h1>Roadmap update</h1></a>

<p class="meta">
  by
  
    
    
    <img class="img-rounded" width=18 height=18 src="../../static/img/authors/lnielsen.jpg" />
    
    
    
    Lars Holm Nielsen,
  
  on July 16, 2019
</p>
<hr />
<div class="body"><p>Today, we have updated our <a href="http://about.zenodo.org/roadmap/">public roadmap</a>. Over the summer we have reduced development capacity as staff is on holidays, and thus we're focusing on minor improvements:</p>
<ul>
<li><strong>Citations</strong>: We're improving the regular updates of citation data from our data sources such as NASA ADS, OpenAIRE, CrossRef and EuropePMC.</li>
<li><strong>GitHub improvements</strong>: We're making some minor optimizations in the release processing workflows.</li>
<li><strong>Infrastructure</strong>: We're growing rapidly, and thus we're in need of upgrading our Elasticsearch cluster.</li>
</ul>
<p>Our biggest target right now is the preparations for importing a dataset of 300.000 biodiversity treatments records into Zenodo in collaboration with Plazi and Pensoft. We hope to be able to present this work around end-October. These improvements will bring support for geospatioal, temporal and method metadata to Zenodo.</p>
</div>
  
  <br />
  <br />

  
    
<a href="../../2019/07/15/2019-07-15-xss-vulnerability/"><h1>Cross-Site Scripting vulnerability</h1></a>

<p class="meta">
  by
  
    
    
    <img class="img-rounded" width=18 height=18 src="../../static/img/authors/lnielsen.jpg" />
    
    
    
    Lars Holm Nielsen,
  
  on July 15, 2019
</p>
<hr />
<div class="body"><p>On June 30th, one of our users, Ciro Santilli, reported that he had discovered a Cross-Site Scripting (XSS) vulnerability in Zenodo. We immediately fixed the vulnerability by July 1st and we also verified that the vulnerability was not exploited by malicious users.</p>
<h3>What is Cross-Site Scripting (XSS)?</h3>
<p>XSS is one of the most common type of vulnerabilities in web applications. A XSS vulnerability is a type of vulnerability where a malicious user is able to inject a client-side script into a website like Zenodo. This will make a victims browser execute the script, which can be used to e.g. hijack user sessions or redirect the victim to a malicious site.</p>
<h3>How was the vulnerability discovered?</h3>
<p>The issue was reported to us on July 30th by Ciro Santilli. We would like to send a special thank you to Ciro for discovering the issue and  responsibly disclosing it to us.</p>
<h3>Was the XSS vulnerability exploited?</h3>
<p>No. We have scanned our database for malicous use of the vulnerability and have not found any indications on that it was exploited in any way.</p>
<h3>Is Zenodo secure to use?</h3>
<p>Yes. We take security very serious and do our best to protect your data (read more about what we do on <a href="http://about.zenodo.org/infrastructure/">http://about.zenodo.org/infrastructure/</a>).</p>
<h3>How do I report a possible security incident?</h3>
<p>Please report it directly to us via <a href="https://zenodo.org/support">https://zenodo.org/support</a>. Especially, we ask you to <strong>not</strong> report it in a public fashion, in order to give us time to deploy a fix for the issue.</p>
<h3>How do you handle a reported security incident?</h3>
<p>Once we receive your report, we will acknowledge the receipt. We will then proceed to verify the issue and if needed implement and deploy a fix. Once the issue has been fixed, we will publicly disclose the issue via a blog post and atttribute the discovery to you (if you wish to be credited).</p>
<h3>Why did it take 14 days to communicate?</h3>
<p>The public disclosure of the issue has been coordinated with security relases of Invenio, which is the underlying framework that Zenodo is based on.</p>
<p>As a standard measure and after patching Zenodo, we reviewed the Invenio source code for potential similar issues to those identified in Zenodo. This led to the discovery of three additional XSS vulnerabilities.</p>
<p>See details on <a href="http://inveniosoftware.org/blog/security-advisor-20190715/">http://inveniosoftware.org/blog/security-advisor-20190715/</a>.</p>
</div>
  
  <br />
  <br />

  
    
<a href="../../2019/05/17/2019-05-17-database-incident/"><h1>Incident with database infrastructure</h1></a>

<p class="meta">
  by
  
    
    
    <img class="img-rounded" width=18 height=18 src="../../static/img/authors/aioannidis.jpg" />
    
    
    
    Alex Ioannidis,
  
  on May 17, 2019
</p>
<hr />
<div class="body"><h4>What happened?</h4>
<p>On Thursday May 16 at 08:30 UTC two database instances were accessing the same physical database files (hosted on an NFS filer) for the primary Zenodo database for a short amount of time. This caused a corruption to both the database files as well as the transaction logs. The corruptions caused intermittent errors for users throughout the day, until we at 15:30 UTC took Zenodo offline.</p>
<p>Zenodo was back online 18:30 UTC May 17th.</p>
<h4>How did it happen?</h4>
<p>On Thursday May 16 at 05:50 UTC the Zenodo database was migrated from an old host to a new host, because of a scheduled urgent intervention on the virtual machine hypervisor hosting the old host.</p>
<p>The script in charge of the migration succeeded but left behind certain configuration files on the old host due to a bug in the script.</p>
<p>At 08:30 UTC the hypervisor and consequently the old host was rebooted. During the boot sequence the old database instance was automatically started and connected to the Zenodo database files and transaction logs hosted on an NFS network filer.</p>
<p>The access by two database instances to the same underlying database files corrupted parts of the files, and most importantly it also corrupted the transactions logs.</p>
<h4>Is it fixed?</h4>
<p>Through hours of manual validation of the integrity of our 40 million rows large database, as well as validation against our webserver access logs, we have recovered the entire database. We have detected discrepancies in a handful of records, that we have temporarily disabled. We are able to fully recover these records from other sources, and hope to have the work finished during next week.</p>
<h4>Is my record affected?</h4>
<p>Only a handful of records (98 out of 9200) submitted during the day of May 16th are affected. We have temporarily disabled these records, until we can recover them fully during next week.</p>
<p>If you notice any issues, don't hesitate to contact us via <a href="https://zenodo.org/support">our support page</a>.</p>
<h4>Why so long downtime?</h4>
<p>Our prime concern is to avoid data loss, so we chose the harder, longer path to recover in order to minimise data loss rather than maximise uptime. Using one of our 12-hourly backups would have meant +6 hours of data loss. The transaction logs were corrupted by the two database instances, which otherwise would have allowed us to recover in about an one hour. All corruptions thus had to be fixed manually by our team of four senior engineers from the CERN database team and Zenodo operations team.</p>
<h4>Were my files at risk?</h4>
<p>No, the files (the payload of every record) are stored outside the database which only stores the metadata of the records. These files are stored in multiple copies on multiples servers before a new record is completed in the database. However accessing and serving the files requires the database record that points to them.</p>
<h4>Next steps</h4>
<p>We are taking this incident very seriously and thoroughly investigating what happened and what can be improved to avoid even more failure modes and to make recovery quicker. A post-mortem is planned for next week with the involved teams, after which more will be communicated.</p>
</div>
  
  <br />
  <br />


  
<div class="pagination">
  <div class="container">
    <div class="row">
      <div class="col-md-4 text-center">
        
          <b><a href="../8/">Older</a></b>
        
      </div>
      <div class="col-md-4 text-center">

        <b><a href="/all">All</a></b>
      </div>
      <div class="col-md-4 text-center">
        
          <b><a href="../6/">Newer</a></b>
        
      </div>
    </div>
  </div>
</div>



        </div>
      </div>
    </div>
    
  </div>
  <footer class="footer">
    <div class="menu-wrapper">
      <div class="container">
        <div class="row footer-menu">
          <div class="col-xs-12 col-md-8">
            <div class="row">
              <div class="col-xs-2 col-md-2">
                <h5>About</h5>
                <ul class="list-unstyled">
                  <li><a href="http://about.zenodo.org">About</a></li>
                  <li><a href="http://about.zenodo.org/policies/">Policies</a></li>
                  <li><a href="http://about.zenodo.org/infrastructure/">Infrastructure</a></li>
                  <li><a href="http://about.zenodo.org/principles/">Principles</a></li>
                  <li><a href="http://about.zenodo.org/roadmap/">Roadmap</a></li>
                  <li><a href="http://about.zenodo.org/projects/">Projects</a></li>
                  <li><a href="http://about.zenodo.org/contact/">Contract</a></li>
                </ul>
              </div>
              <div class="col-xs-2 col-md-2">
                <h5>Blog</h5>
                <ul class="list-unstyled">
                  <li><a href="https://blog.zenodo.org">Blog</a></li>
                </ul>
              </div>
              <div class="col-xs-2 col-md-2">
                <h5>Help</h5>
                <ul class="list-unstyled">
                  <li><a href="https://help.zenodo.org">Overview</a></li>
                  <li><a href="https://help.zenodo.org/faq/">FAQ</a></li>
                  <li><a href="https://help.zenodo.org/guides/">Guides</a></li>
                  <li><a href="https://zenodo.org/support">Support</a></li>
              </div>
              <div class="col-xs-2 col-md-2">
                <h5>Developers</h5>
                <ul class="list-unstyled">
                <li><a href="https://developers.zenodo.org">REST API</a></li>
                <li><a href="https://developers.zenodo.org#oai-pmh">OAI-PMH</a></li>
                </ul>
              </div>
              <div class="col-xs-2 col-md-2">
                <h5>Contribute</h5>
                <ul class="list-unstyled">
                  <li><a href="https://github.com/zenodo/zenodo"><i class="fa fa-external-link"></i> GitHub</a></li>
                  <li><a href="https://zenodo.org/donate"><i class="fa fa-external-link"></i> Donate</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-4">
            <div class="pull-right-md text-center-sm text-center-xs">
              <h5>Funded by</h5>
              <ul class="list-inline">
                <li><a href="https://home.cern"><img src="/static/img/cern.png" width="60" height="60" /></a></li>
                <li><a href="https://www.openaire.eu"><img src="/static/img/openaire.png" width="80"/></a></li>
                <li><a href="https://ec.europa.eu/programmes/horizon2020/"><img src="/static/img/eu.png" width="88" height="60" /></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-sm-6 col-sm-push-6">
          <div class="pull-right-sm text-center-xs">
            <ul class="list-inline">
              <li><a href="https://stats.uptimerobot.com/vlYOVuWgM">Status</a></li>
              <li><a href="https://about.zenodo.org/privacy-policy">Privacy policy</a></li>
              <li><a href="https://about.zenodo.org/terms">Terms of Use</a></li>
              <li><a href="https://about.zenodo.org/contact">Support</a></li>
            </ul>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-sm-pull-6 text-center-xs">
          <p><a title="Except where otherwise noted, content on this site is licensed under a Creative Commons Attribution 4.0 International License." rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" height="20" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>&nbsp; Powered by <a href="https://home.cern/science/computing/data-centre">CERN Data Centre</a> &amp; <a href="http://inveniosoftware.org">Invenio</a>.</p>
        </div>
      </div>
    </div>
  </footer>
  
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://webanalytics.web.cern.ch/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '362']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

</body>
</html>
